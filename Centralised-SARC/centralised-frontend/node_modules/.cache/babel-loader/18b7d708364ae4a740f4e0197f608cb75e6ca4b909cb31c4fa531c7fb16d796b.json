{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nconst useLogin = () => {\n  _s();\n  const [token, setToken] = useState(localStorage.getItem(\"token\") || null);\n  const login = async (username, password) => {\n    try {\n      const response = await fetch(\"http://127.0.0.1:8000/auth/login/\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          username,\n          password\n        })\n      });\n      if (!response.ok) throw new Error(\"Invalid credentials\");\n      const data = await response.json();\n      localStorage.setItem(\"token\", data.access);\n      setToken(data.access);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  const logout = () => {\n    localStorage.removeItem(\"token\");\n    setToken(null);\n  };\n  return {\n    token,\n    login,\n    logout\n  };\n};\n_s(useLogin, \"ltA6FFEwzwsf4dZH6QjJkAe16QM=\");\nexport default useLogin;","map":{"version":3,"names":["useState","useLogin","_s","token","setToken","localStorage","getItem","login","username","password","response","fetch","method","headers","body","JSON","stringify","ok","Error","data","json","setItem","access","error","console","logout","removeItem"],"sources":["C:/Users/Khushi Yadav/OneDrive/Desktop/SARC_ctm_assignment/Centralised-SARC/centralised-frontend/src/hooks/useLogin.js"],"sourcesContent":["import { useState } from \"react\";\r\n\r\nconst useLogin = () => {\r\n  const [token, setToken] = useState(localStorage.getItem(\"token\") || null);\r\n\r\n  const login = async (username, password) => {\r\n    try {\r\n      const response = await fetch(\"http://127.0.0.1:8000/auth/login/\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ username, password }),\r\n      });\r\n\r\n      if (!response.ok) throw new Error(\"Invalid credentials\");\r\n\r\n      const data = await response.json();\r\n      localStorage.setItem(\"token\", data.access);\r\n      setToken(data.access);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem(\"token\");\r\n    setToken(null);\r\n  };\r\n\r\n  return { token, login, logout };\r\n};\r\n\r\nexport default useLogin;\r\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAEhC,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACrB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGJ,QAAQ,CAACK,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC;EAEzE,MAAMC,KAAK,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,QAAQ,KAAK;IAC1C,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,mCAAmC,EAAE;QAChEC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAER,QAAQ;UAAEC;QAAS,CAAC;MAC7C,CAAC,CAAC;MAEF,IAAI,CAACC,QAAQ,CAACO,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,qBAAqB,CAAC;MAExD,MAAMC,IAAI,GAAG,MAAMT,QAAQ,CAACU,IAAI,CAAC,CAAC;MAClCf,YAAY,CAACgB,OAAO,CAAC,OAAO,EAAEF,IAAI,CAACG,MAAM,CAAC;MAC1ClB,QAAQ,CAACe,IAAI,CAACG,MAAM,CAAC;IACvB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACtB;EACF,CAAC;EAED,MAAME,MAAM,GAAGA,CAAA,KAAM;IACnBpB,YAAY,CAACqB,UAAU,CAAC,OAAO,CAAC;IAChCtB,QAAQ,CAAC,IAAI,CAAC;EAChB,CAAC;EAED,OAAO;IAAED,KAAK;IAAEI,KAAK;IAAEkB;EAAO,CAAC;AACjC,CAAC;AAACvB,EAAA,CA7BID,QAAQ;AA+Bd,eAAeA,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}