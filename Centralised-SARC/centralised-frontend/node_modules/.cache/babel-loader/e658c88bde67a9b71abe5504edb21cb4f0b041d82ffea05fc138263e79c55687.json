{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nimport axios from 'axios';\nfunction useLogin() {\n  _s();\n  const [formData, setFormData] = useState({\n    username: '',\n    password: ''\n  });\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState(null);\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  };\n  const headers = {\n    'Content-Type': 'application/json'\n  };\n  const login = () => {\n    axios.post('http://127.0.0.1:8000/api/authenticate/login', formData, {\n      headers\n    }).then(response => {\n      console.log(response.data);\n      localStorage.setItem('userData', JSON.stringify(response.data));\n      setSuccess(\"logged in successfully\"); // Set a success flag to indicate successful login  \n      window.location.href = '/profile';\n    }).catch(error => {\n      if (error.response && error.response.data && error.response.data.error) {\n        setError(error.response.data.error);\n      } else {\n        setError('An error occurred during login.');\n      }\n    });\n  };\n  return {\n    formData,\n    setFormData,\n    error,\n    success,\n    handleInputChange,\n    login\n  };\n}\n_s(useLogin, \"v7gNE1Xh9xmr9Xsqs53+6bYnv2s=\");\nexport default useLogin;","map":{"version":3,"names":["useState","axios","useLogin","_s","formData","setFormData","username","password","error","setError","success","setSuccess","handleInputChange","e","name","value","target","headers","login","post","then","response","console","log","data","localStorage","setItem","JSON","stringify","window","location","href","catch"],"sources":["C:/Users/Khushi Yadav/OneDrive/Desktop/SARC_ctm_assignment/Centralised-SARC/centralised-frontend/src/hooks/useLogin.js"],"sourcesContent":["import { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction useLogin() {\r\n\r\n  const [formData, setFormData] = useState({\r\n    username: '',\r\n    password: '',\r\n  });\r\n\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState(null);\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({ ...formData, [name]: value });\r\n  };\r\n\r\n  const headers = {\r\n    'Content-Type': 'application/json',\r\n  };\r\n\r\n\r\n\r\n  const login = () => {\r\n    axios\r\n      .post('http://127.0.0.1:8000/api/authenticate/login', formData, { headers })\r\n      .then((response) => {\r\n        console.log(response.data);\r\n        localStorage.setItem('userData', JSON.stringify(response.data));\r\n        setSuccess(\"logged in successfully\"); // Set a success flag to indicate successful login  \r\n        window.location.href = '/profile';\r\n      })\r\n      .catch((error) => {\r\n        if (error.response && error.response.data && error.response.data.error) {\r\n          setError(error.response.data.error);\r\n        } else {\r\n          setError('An error occurred during login.');\r\n        }\r\n      });\r\n  };\r\n\r\n  return { formData, setFormData, error, success, handleInputChange, login };\r\n}\r\n\r\nexport default useLogin;\r\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,OAAOC,KAAK,MAAM,OAAO;AAEzB,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EAElB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGL,QAAQ,CAAC;IACvCM,QAAQ,EAAE,EAAE;IACZC,QAAQ,EAAE;EACZ,CAAC,CAAC;EAEF,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAE5C,MAAMY,iBAAiB,GAAIC,CAAC,IAAK;IAC/B,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;IAChCX,WAAW,CAAC;MAAE,GAAGD,QAAQ;MAAE,CAACU,IAAI,GAAGC;IAAM,CAAC,CAAC;EAC7C,CAAC;EAED,MAAME,OAAO,GAAG;IACd,cAAc,EAAE;EAClB,CAAC;EAID,MAAMC,KAAK,GAAGA,CAAA,KAAM;IAClBjB,KAAK,CACFkB,IAAI,CAAC,8CAA8C,EAAEf,QAAQ,EAAE;MAAEa;IAAQ,CAAC,CAAC,CAC3EG,IAAI,CAAEC,QAAQ,IAAK;MAClBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,IAAI,CAAC;MAC1BC,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEC,IAAI,CAACC,SAAS,CAACP,QAAQ,CAACG,IAAI,CAAC,CAAC;MAC/Db,UAAU,CAAC,wBAAwB,CAAC,CAAC,CAAC;MACtCkB,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,UAAU;IACnC,CAAC,CAAC,CACDC,KAAK,CAAExB,KAAK,IAAK;MAChB,IAAIA,KAAK,CAACa,QAAQ,IAAIb,KAAK,CAACa,QAAQ,CAACG,IAAI,IAAIhB,KAAK,CAACa,QAAQ,CAACG,IAAI,CAAChB,KAAK,EAAE;QACtEC,QAAQ,CAACD,KAAK,CAACa,QAAQ,CAACG,IAAI,CAAChB,KAAK,CAAC;MACrC,CAAC,MAAM;QACLC,QAAQ,CAAC,iCAAiC,CAAC;MAC7C;IACF,CAAC,CAAC;EACN,CAAC;EAED,OAAO;IAAEL,QAAQ;IAAEC,WAAW;IAAEG,KAAK;IAAEE,OAAO;IAAEE,iBAAiB;IAAEM;EAAM,CAAC;AAC5E;AAACf,EAAA,CAxCQD,QAAQ;AA0CjB,eAAeA,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}